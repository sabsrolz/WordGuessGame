<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Word Guess Game</title>

 <!--<script src="assets/javascript/game.js"></script> -->
  </head>
  <body>
    <h1 id="game_header">Word Search Game</h1>

    <p class="instructions">
      Welcome to the Word Search Game! We will pick a word and you have to input
      a letter that you think is in the word. If the letter matches one of the
      characters in the word, the letter will replace the empty space. You win
      once all letters in the word have been guessed!
    </p>
    <button id = "startButton">Press to Start Game</button>
    
      
    <p class="instructions">Please press a letter in your keyboard.</p>
    <div id = "current_letter"></div>
    </br></div>
    <div id="word_section">The status of the word you are guessing</br></div>
    <div id = "word_progress"></br></div>
    <div id = "missing_guesses">: missing guesses:</br></div>
    <div id = "missing"></div>
      
    
      
      <!--div that will output letters selected by player-->
      <div id="guess_display">Box of guessed letters:<br></div>

      <div id= "score_title">Score:</br></div>
      <div id = "score"></div>
      
      <script>

      //initialize our variables
      var count = 0;
      const wordsArray = ["sabrina", "rolz", "sandoval"]; //stores words that will come up in game
      var currentWord = [];
    //var updatedWord = [];
    //var indexGuess; //integer picked by player
    var wordSelected; //word selected from array of words
    var playerGuess; //character selected by player
    let GuessedLetters;
    var score = 0;
    var letter_counter = 0;

function empty_word(word) {
  for (let x = 0; x < word.length; x++) {
    currentWord.push("_ ");
  }
  return currentWord;
}
//while (count < wordsArray.length) {
document.getElementById("startButton").addEventListener("click", startGame);
function startGame() {
  // for (let wordinArray = 0; wordinArray < wordsArray.length; wordinArray++) {
  wordSelected = wordsArray[count]; //stores word selected from array
  empty_word(wordSelected);
  console.log(currentWord);

  document.getElementById("word_progress").innerHTML = currentWord; 
  count++;
}



//function that takes keyboard input from player and displays under letters guessed

//document.getElementById("word_progress").innerHTML = currentWord;

document.addEventListener("keyup", playerGuesses);

function playerGuesses(event) {
  playerGuess = event.key;
  GuessedLetters = document.createElement("span");
  GuessedLetters.innerHTML = playerGuess;
  document.getElementById("current_letter").innerHTML = playerGuess;
  document.getElementById("guess_display").appendChild(GuessedLetters);

  for (let char = 0; char < wordSelected.length; char++) {
    if (wordSelected[char] === playerGuess) {
      currentWord[char] = playerGuess;
      letter_counter ++;
    } 

    
    //console.log(currentWord);
    document.getElementById("word_progress").innerHTML = currentWord;

  
  }

  if (currentWord.includes("_ ")) {
    console.log("keep playing");
    let diff = currentWord.length- letter_counter;
    document.getElementById("missing").innerHTML = diff;

  }
  else {
    score ++;
    letter_counter = 0;
    document.getElementById("score").innerHTML = score;
    currentWord = [];
    console.log(currentWord);
    document.getElementById("word_progress").innerHTML = currentWord;
    GuessedLetters= "";
    document.getElementById("guess_display").innerHTML= GuessedLetters;
    
    
  };
}
//}</script>
  </body>
</html>
